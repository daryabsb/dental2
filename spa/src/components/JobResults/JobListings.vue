<template>
	<main class="flex-auto p-8 bg-brand-gray-2">
		<ol>
			<job-listing v-for="job in jobs" :key="job.id" :job="job" data-test="job-listing"></job-listing>
		</ol>
	</main>
</template>

<script>
	import axios from "axios";
	import JobListing from "./JobListing.vue";
	export default {
		name: "JobListings",
		components: {
			JobListing,
		},
		data() {
			return {
				jobs: [],
			};
		},
		async mounted() {
			const url = "http://localhost:3000/jobs";
			try {
				const response = await axios.get(url);
				this.jobs = response.data;
			} catch (error) {
				console.log(error);
			}
		},
	};
</script>
